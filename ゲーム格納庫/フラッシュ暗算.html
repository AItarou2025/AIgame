<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ãƒ•ãƒ©ãƒƒã‚·ãƒ¥æš—ç®—ã‚²ãƒ¼ãƒ </title>
<style>
    body {
        font-family: sans-serif;
        text-align: center;
        background: #111;
        color: #fff;
    }
    #number {
        font-size: 80px;
        margin: 40px;
        height: 100px;
    }
    input, button {
        font-size: 20px;
        padding: 10px;
        margin: 10px;
    }
</style>
</head>
<body>

<h1>ãƒ•ãƒ©ãƒƒã‚·ãƒ¥æš—ç®—</h1>

<div id="number"></div>

<button onclick="startGame()">ã‚¹ã‚¿ãƒ¼ãƒˆ</button>

<div id="inputArea" style="display:none;">
    <input type="number" id="answer" placeholder="ç­”ãˆã‚’å…¥åŠ›">
    <button onclick="checkAnswer()">æ±ºå®š</button>
</div>

<p id="result"></p>

<script>
let numbers = [];
let index = 0;
let total = 0;

// è¨­å®šï¼ˆã“ã“ã‚’å¤‰ãˆã‚‹ã¨é›£æ˜“åº¦èª¿æ•´ã§ãã‚‹ï¼‰
const FLASH_COUNT = 5;   // è¡¨ç¤ºã™ã‚‹æ•°å­—ã®æ•°
const FLASH_TIME = 700; // è¡¨ç¤ºæ™‚é–“(ms)

function startGame() {
    numbers = [];
    index = 0;
    total = 0;
    document.getElementById("result").textContent = "";
    document.getElementById("inputArea").style.display = "none";
    document.getElementById("answer").value = "";

    for (let i = 0; i < FLASH_COUNT; i++) {
        numbers.push(Math.floor(Math.random() * 9) + 1);
    }

    flash();
}

function flash() {
    if (index < numbers.length) {
        document.getElementById("number").textContent = numbers[index];
        total += numbers[index];
        index++;

        setTimeout(() => {
            document.getElementById("number").textContent = "";
            setTimeout(flash, 200);
        }, FLASH_TIME);
    } else {
        document.getElementById("number").textContent = "ï¼Ÿ";
        document.getElementById("inputArea").style.display = "block";
    }
}

function checkAnswer() {
    const ans = Number(document.getElementById("answer").value);
    if (ans === total) {
        document.getElementById("result").textContent = "ğŸ‰ æ­£è§£ï¼";
    } else {
        document.getElementById("result").textContent =
            `âŒ ä¸æ­£è§£â€¦ æ­£è§£ã¯ ${total}`;
    }
}
</script>

</body>
</html>
