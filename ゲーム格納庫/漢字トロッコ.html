<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>æ¼¢å­—ãƒˆãƒ­ãƒƒã‚³ï¼ˆèª­ã¿æ–¹ï¼‰</title>
<style>
body {
    background: #222;
    color: #fff;
    font-family: sans-serif;
    text-align: center;
}

#game {
    width: 500px;
    margin: 40px auto;
    padding: 20px;
    border: 3px solid #fff;
    background: #333;
}

#kanji {
    font-size: 48px;
    margin: 20px 0;
}

input {
    font-size: 24px;
    padding: 5px;
    width: 250px;
    text-align: center;
}

#bar {
    height: 20px;
    background: red;
    margin-top: 20px;
    width: 100%;
}

#message {
    margin-top: 15px;
    font-size: 20px;
}
</style>
</head>
<body>

<h1>ğŸš‹ æ¼¢å­—ãƒˆãƒ­ãƒƒã‚³</h1>

<div id="game">
    <div>ã“ã®æ¼¢å­—ã®èª­ã¿ã¯ï¼Ÿ</div>
    <div id="kanji">æ¼¢å­—</div>
    <input id="answer" placeholder="ã²ã‚‰ãŒãªã§å…¥åŠ›">
    <div id="bar"></div>
    <div id="message"></div>
</div>

<script>
const questions = [
    { kanji: "å†’é™º", yomi: "ã¼ã†ã‘ã‚“" },
    { kanji: "çŸ¥è­˜", yomi: "ã¡ã—ã" },
    { kanji: "è‹±é›„", yomi: "ãˆã„ã‚†ã†" },
    { kanji: "å¯¾æ±º", yomi: "ãŸã„ã‘ã¤" },
    { kanji: "æ„Ÿæ¿€", yomi: "ã‹ã‚“ã’ã" }
];

let index = 0;
let time = 100;
let speed = 0.6;
let timer;

const kanji = document.getElementById("kanji");
const answer = document.getElementById("answer");
const bar = document.getElementById("bar");
const message = document.getElementById("message");

function start() {
    showQuestion();
    timer = setInterval(update, 50);
}

function showQuestion() {
    kanji.textContent = questions[index].kanji;
    answer.value = "";
    time = 100;
    bar.style.width = "100%";
}

function update() {
    time -= speed;
    bar.style.width = time + "%";
    if (time <= 0) {
        gameOver("æ™‚é–“åˆ‡ã‚Œï¼");
    }
}

answer.addEventListener("keydown", e => {
    if (e.key === "Enter") {
        const input = answer.value.trim();
        if (input === questions[index].yomi) {
            index++;
            speed += 0.2;
            if (index >= questions.length) {
                clearInterval(timer);
                message.textContent = "ğŸ‰ å…¨å•ã‚¯ãƒªã‚¢ï¼";
            } else {
                showQuestion();
            }
        } else {
            gameOver("ä¸æ­£è§£ï¼");
        }
    }
});

function gameOver(text) {
    clearInterval(timer);
    message.textContent = "ğŸ’¥ ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼ï¼š" + text;
    answer.disabled = true;
}

start();
</script>

</body>
</html>
